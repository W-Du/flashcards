{% extends "_menu.html" %}

{% block styles2 %}
<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/content.css') }}">
{% endblock %}

{% block title %}
<h1>All Flashcards</h1>
{% endblock %}


{% block content2 %}
<div class="hidden-form">
    <h3 id="toggle-card">Add a new Flashcard</h3>
    <form id="add-card" class="form-jinja"
    {% if not display %} style="display:none" {% endif %} 
    {% if current_user.is_authenticated %} action="/user/{{ user.username }}/flashcards"
    {% else %} action="/guest/flashcards"
    {% endif %} method="POST">
        {{ form.hidden_tag() }}
        <div>
            {{ form.word.label(class='form-label') }}
            {{ form.word(class='form-input') }}
            {% for error in form.word.errors %}
            <br>
            <span class="error">[{{ error }}]</span>
            {% endfor %}
        </div>
        <div>
            {{ form.description.label(class='form-label') }}
            {{ form.description(class='form-textarea') }}
            {% for error in form.description.errors %}
            <br>
            <span class="error">[{{ error }}]</span>
            {% endfor %}
        </div>
        <div>
            {{ form.addToList.label(class='form-label') }}
            {{ form.addToList(class='form-select') }}<br>
        </div>
        <div>
            <p class="form-label"></p>
            {{ form.submit(class='form-button') }}
        </div>

    </form>
</div>

<!--each flashcard-->
<div class="links">
    {% for w in words %}
    <a
    {% if current_user.is_authenticated %} href="/user/{{ user.username }}/flashcards/{{ w.id }}"
    {% else %} href="/guest/flashcards/{{ w.word }}"
    {% endif %}>{{ w.word }}</a>
    {% endfor %}
</div>

<script>
    document.getElementById('toggle-card').addEventListener('click', () => {
        toggleForm('add-card');
    })
</script>
{% endblock %}